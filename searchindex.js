Search.setIndex({"docnames": ["data", "gpu-architecture", "guide", "index", "interoperability", "introduction", "miniapp", "multi-gpu", "optimization", "porting", "profiling", "quick-reference", "target"], "filenames": ["data.rst", "gpu-architecture.rst", "guide.rst", "index.rst", "interoperability.rst", "introduction.rst", "miniapp.rst", "multi-gpu.rst", "optimization.rst", "porting.rst", "profiling.rst", "quick-reference.rst", "target.rst"], "titles": ["Data environment", "Introduction to GPU architecture", "Instructor\u2019s guide", "OpenMP for GPU offloading", "Working alongside GPU libraries", "Why OpenMP offloading?", "Heat diffusion mini-app", "Multiple GPUs", "Optimizing OpenMP offloaded code", "Porting code to OpenMP offloading", "Profiling code for GPUs", "Quick Reference", "Offloading to GPU"], "terms": {"understand": [0, 1, 3, 4, 5, 6, 7, 8, 9, 10, 12], "claus": [0, 4, 12], "differ": [0, 2, 5, 6, 12], "type": [0, 4, 5, 6, 7, 8, 9, 10, 12], "due": [0, 1], "distinct": 0, "memori": [0, 6, 12], "space": [0, 1, 5, 6, 12], "host": [0, 1, 4], "devic": [0, 1, 4, 6], "becom": [0, 5], "inevit": 0, "A": [0, 1, 5, 12], "combin": [0, 5], "both": [0, 1, 4, 5, 6, 7, 8, 9, 10, 12], "i": [0, 4, 5, 6, 7, 8, 9, 10, 12], "us": [0, 3, 4, 5, 6, 7, 8, 9, 10, 12], "The": [0, 1, 5, 12], "cluas": 0, "explicitli": [0, 5, 12], "specifi": [0, 1, 5, 12], "how": [0, 1, 3, 4, 5, 6, 7], "item": 0, "ar": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12], "from": [0, 1, 3, 4, 5, 6, 12], "common": [0, 1, 3, 4, 5, 6, 7, 8, 9, 10], "consist": [0, 1, 5, 12], "arrai": [0, 4, 6, 7, 8, 9, 10], "section": [0, 5], "scalar": [0, 12], "pointer": [0, 1, 6, 12], "element": [0, 1, 3], "variou": [0, 1, 5], "form": 0, "summaris": 0, "follow": [0, 3, 5, 6, 12], "tabl": 0, "list": [0, 5, 12], "On": [0, 5], "enter": 0, "variabl": [0, 1, 4, 6], "initi": [0, 1, 12], "origin": [0, 5], "valu": [0, 1, 4, 5, 6, 7, 8, 9, 10, 12], "At": [0, 5], "end": [0, 3, 4, 5, 6, 7, 8, 9, 10, 12], "copi": [0, 1, 3, 5], "tofrom": [0, 12], "effect": [0, 12], "alloc": [0, 1, 5, 6], "uniniti": 0, "equival": 0, "If": [0, 1, 4, 5, 7, 8, 9, 10], "compil": [0, 2, 6, 12], "do": [0, 1, 2, 3, 5, 6, 7], "implicitli": 0, "sinc": [0, 12], "v4": 0, "5": [0, 6, 12], "firstpriv": [0, 5, 12], "back": [0, 1], "non": [0, 1, 6], "c": [0, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12], "zero": [0, 6], "length": [0, 6], "note": [0, 3, 5], "onli": [0, 1, 4, 5, 6, 7, 8, 9, 10, 12], "point": [0, 1, 5, 6, 12], "when": [0, 1, 5, 6, 9], "care": 0, "about": [0, 1, 4, 5, 6, 7, 8, 9, 10, 12], "notat": 0, "In": [0, 1, 5, 6, 12], "lower": [0, 1], "bound": 0, "n": [0, 1, 5, 12], "0": [0, 1, 3, 5, 6, 12], "fortran": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12], "upper": 0, "1": [0, 1, 5, 6, 12], "ad": [0, 5], "between": [0, 1, 2, 5, 12], "offload": [0, 1, 6], "part": [0, 1, 2, 3, 5], "where": [0, 1, 3, 5, 6, 12], "calcul": [0, 12], "sum": [0, 12], "copyright": [0, 3, 12], "2019": [0, 12], "csc": [0, 3, 6, 12], "train": [0, 12], "2021": [0, 12], "encc": [0, 3, 12], "includ": [0, 5, 6, 12], "stdio": [0, 5, 12], "h": [0, 5, 12], "math": [0, 12], "defin": [0, 1, 5, 12], "nx": [0, 4, 6, 7, 8, 9, 10, 12], "102400": [0, 12], "int": [0, 1, 4, 5, 6, 7, 8, 9, 10, 12], "main": [0, 1, 4, 5, 7, 8, 9, 10, 12], "void": [0, 1, 6, 12], "doubl": [0, 1, 4, 6, 7, 8, 9, 10, 12], "veca": [0, 12], "vecb": [0, 12], "vecc": [0, 12], "r": [0, 12], "2": [0, 1, 4, 5, 6, 7, 8, 9, 10, 12], "vector": [0, 4, 6, 7, 8, 9, 10, 12], "pow": [0, 12], "dot": [0, 12], "product": [0, 12], "two": [0, 1, 5, 6, 12], "pragma": [0, 5, 12], "omp": [0, 5, 12], "team": [0, 5], "distribut": 0, "printf": [0, 5, 12], "8": [0, 1, 5, 6, 12], "6f": [0, 12], "return": [0, 1, 5, 12], "program": [0, 3, 4, 6, 12], "dotproduct": [0, 12], "none": [0, 5, 6, 12], "integ": [0, 1, 4, 5, 6, 7, 8, 9, 10, 12], "paramet": [0, 5, 6, 12], "real": [0, 4, 6, 7, 8, 9, 10, 12], "dimens": [0, 4, 6, 7, 8, 9, 10, 12], "write": [0, 5, 6, 12], "creat": [0, 1, 5], "storag": [0, 5], "remov": 0, "clasiffi": 0, "categori": 0, "which": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12], "conveni": [0, 12], "provid": [0, 1, 3, 5], "persist": 0, "could": [0, 2, 5], "subseq": 0, "block": [0, 1, 5, 12], "logic": [0, 12], "express": [0, 6, 12], "use_device_ptr": [0, 4], "howev": [0, 1, 5, 6], "inconveni": 0, "applic": [0, 1, 3, 5], "exit": 0, "have": [0, 1, 3, 4, 5, 6, 7, 8, 9, 10, 12], "much": [0, 1, 5, 6], "more": [0, 1, 4, 5, 7, 8, 9, 10, 12], "freedom": [0, 3], "delet": 0, "ani": [0, 1, 3, 5, 12], "appropri": [0, 3], "depend": [0, 5, 6, 12], "nowait": [0, 5, 12], "start": [0, 5, 6, 12], "within": [0, 1, 5, 6, 12], "singl": [0, 1, 5, 12], "subroutin": [0, 6, 12], "exist": [0, 1, 4, 7, 8, 9, 10, 12], "multipl": [0, 1, 3, 5, 12], "across": [0, 5, 12], "until": [0, 1, 5], "dealloc": 0, "keep": [0, 6], "can": [0, 1, 3, 4, 5, 6, 7, 8, 9, 10, 12], "direct": [0, 1, 2, 6], "motion": 0, "one": [0, 1, 3, 5, 6, 7, 12], "udpat": 0, "add": [0, 5, 12], "again": [0, 1], "f18": 0, "6": 0, "try": [0, 1, 6], "figur": [0, 1, 4, 7, 8, 9, 10, 12], "out": [0, 1, 4, 5, 7, 8, 9, 10, 12], "each": [0, 1, 5, 6, 12], "check": [0, 5, 6], "x": [0, 1, 4, 5, 6, 7, 8, 9, 10], "10": [0, 6, 12], "3": [0, 6, 12], "point1": 0, "point2": 0, "point3": 0, "instead": [0, 1], "reduc": [0, 5], "amount": [0, 1, 6], "get": [0, 4, 5, 7, 8, 9, 10], "rid": 0, "unneed": 0, "resid": [0, 1], "long": [0, 1, 3, 6, 12], "possibl": [0, 1, 5, 6, 12], "thi": [0, 1, 3, 4, 5, 6, 7, 8, 9, 10], "move": [0, 1, 6], "famili": 0, "three": [0, 1, 5, 6], "incomplet": 0, "function": [0, 1, 5], "around": [0, 6], "core": [0, 1, 4, 7, 8, 9, 10, 12], "cpp": [0, 4, 6, 7, 8, 9, 10, 12], "f90": [0, 12], "you": [0, 1, 3, 4, 5, 6, 7, 8, 9, 10, 12], "need": [0, 1, 2, 4, 5, 6, 7, 8, 9, 10, 12], "them": [0, 1, 2, 5, 6], "under": [0, 3, 12], "content": [0, 4, 6, 7, 8, 9, 10, 12], "data_map": 0, "routin": [0, 12], "heat": [0, 3, 12], "equat": [0, 5, 12], "solver": [0, 6, 12], "2d": [0, 4, 6, 7, 8, 9, 10], "argc": [0, 5, 6], "char": [0, 5, 6], "argv": [0, 5, 6], "imag": [0, 1, 4, 6, 7, 8, 9, 10], "output": [0, 4, 5, 7, 8, 9, 10], "interv": 0, "image_interv": 0, "1500": [0, 6], "number": [0, 1, 5, 6, 12], "time": [0, 1, 2, 5, 6, 12], "step": [0, 1, 5, 6, 12], "nstep": [0, 6], "current": [0, 5, 6, 12], "previou": [0, 6, 12], "temperatur": [0, 4, 6, 7, 8, 9, 10, 12], "field": [0, 12], "write_field": 0, "average_temp": 0, "averag": [0, 6], "f": 0, "diffus": [0, 3, 12], "constant": [0, 6], "comput": [0, 6], "largest": [0, 6], "stabl": [0, 6], "dx2": [0, 6, 12], "dx": [0, 4, 6, 7, 8, 9, 10, 12], "dy2": [0, 6, 12], "dy": [0, 4, 6, 7, 8, 9, 10, 12], "dt": [0, 6, 12], "stamp": 0, "start_clock": 0, "omp_get_wtim": [0, 5], "enter_data": 0, "evolut": [0, 1], "iter": [0, 1, 5, 6, 12], "evolv": [0, 6, 12], "update_host": 0, "swap": [0, 6], "so": [0, 1, 3, 4, 5, 6, 7, 8, 9, 10], "next": [0, 1, 5, 6, 12], "swap_field": [0, 6], "exit_data": 0, "stop_clock": 0, "refer": [0, 5, 6], "determin": [0, 5, 6, 12], "cpu": [0, 1, 5, 12], "all": [0, 1, 2, 3, 5, 6, 12], "took": [0, 6], "3f": 0, "second": [0, 1, 6], "default": [0, 1, 5, 12], "argument": [0, 6, 12], "59": [0, 6], "281239": 0, "final": [0, 5], "heat_solv": [0, 6], "io": [0, 4, 6, 7, 8, 9, 10], "setup": [0, 4, 7, 8, 9, 10], "util": [0, 4, 6, 7, 8, 9, 10], "omp_lib": [0, 5, 6, 12], "dp": [0, 4, 6, 7, 8, 9, 10, 12], "previu": [0, 6], "kind": [0, 5, 12], "stop": 0, "timer": 0, "call": [0, 1, 4, 5, 6], "draw": 0, "pictur": 0, "state": [0, 5, 6], "f9": 0, "loop": [0, 1, 5, 6, 12], "mod": 0, "f7": 0, "command_argument_count": 0, "five": [0, 6, 12], "stencil": [0, 6, 12], "curr": [0, 6, 12], "prev": [0, 6, 12], "help": [0, 6, 10, 12], "avoid": [0, 1, 5, 6, 12], "being": [0, 6, 12], "confus": [0, 6, 12], "struct": [0, 4, 6, 7, 8, 9, 10, 12], "currdata": [0, 6, 12], "prevdata": [0, 6, 12], "ny": [0, 4, 6, 7, 8, 9, 10, 12], "As": [0, 1, 6, 12], "we": [0, 1, 3, 4, 6, 7, 8, 9, 10, 12], "fix": [0, 6, 12], "boundari": [0, 12], "condit": [0, 5, 12], "outermost": [0, 6, 12], "gridpoint": [0, 6, 12], "parallel": [0, 1, 6], "j": [0, 6, 12], "ind": [0, 6, 12], "ip": [0, 6, 12], "im": [0, 6, 12], "jp": [0, 6, 12], "jm": [0, 6, 12], "here": [0, 4, 5, 6, 7, 8, 9, 10], "modul": [0, 1, 5, 12], "contain": [0, 1, 4, 5, 6, 7, 8, 9, 10, 12], "intent": [0, 6, 12], "inout": [0, 6, 12], "contigu": [0, 5, 6, 12], "tempdata": 0, "resourc": 1, "avail": [1, 3, 5, 8, 12], "programm": [1, 5], "execut": [1, 6], "basic": [1, 3, 5], "knowledg": 1, "process": [1, 3, 6], "transistor": 1, "dens": 1, "integr": [1, 5], "circuit": 1, "everi": [1, 5, 6], "year": 1, "mean": [1, 5], "smaller": [1, 5], "size": [1, 4, 5, 6, 7, 8, 9, 10], "higher": 1, "frequenc": 1, "achiev": 1, "power": 1, "consumpt": 1, "scale": 1, "third": 1, "growth": 1, "ha": [1, 5, 6], "slow": 1, "down": 1, "significantli": 1, "perform": [1, 3, 5, 6, 10, 12], "node": [1, 3, 5], "reli": 1, "its": [1, 5, 6, 12], "complic": [1, 6], "structur": [1, 3, 5, 12], "still": 1, "simd": [1, 5], "branch": 1, "predict": 1, "etc": [1, 5], "microprocessor": 1, "per": [1, 6], "chip": 1, "increas": 1, "longer": 1, "explor": [1, 6], "limit": [1, 3, 5, 12], "befor": [1, 2, 5], "2000": 1, "clock": 1, "wa": 1, "major": 1, "sourc": 1, "mid": 1, "mark": 1, "transit": 1, "toward": [1, 6], "multi": [1, 3], "processor": [1, 5], "been": 1, "base": [1, 3, 5, 6], "strategi": 1, "over": [1, 6], "recent": 1, "physic": [1, 6], "graphic": 1, "unit": [1, 5], "most": [1, 2, 3, 5], "dure": [1, 5, 12], "last": [1, 5], "few": [1, 5], "term": [1, 3], "sometim": [1, 4, 5, 6, 7, 8, 9, 10], "interchang": 1, "comparison": 1, "intel": [1, 5], "instruct": [1, 5], "throughput": 1, "bandwidth": 1, "than": [1, 5, 6, 7, 12], "similar": [1, 5], "price": 1, "envelop": 1, "were": [1, 3], "design": 1, "goal": 1, "mind": 1, "while": [1, 5, 6], "excel": 1, "sequenc": 1, "oper": [1, 5, 12], "fast": [1, 6], "ten": 1, "mani": [1, 2, 5, 12], "thousand": 1, "develop": [1, 6], "highli": 1, "task": [1, 5], "therefor": 1, "devot": 1, "rather": [1, 6], "cach": [1, 5], "flow": [1, 6, 12], "control": [1, 12], "dedic": 1, "benefici": 1, "hide": [1, 4, 7, 8, 9, 10], "latenc": 1, "larg": [1, 5], "complex": [1, 6], "expens": 1, "gener": [1, 12], "purpos": [1, 3, 5], "special": [1, 5], "good": [1, 5, 12], "serial": [1, 5, 6, 12], "great": 1, "low": 1, "high": 1, "area": 1, "hundr": 1, "float": 1, "separ": [1, 5, 12], "board": 1, "manag": [1, 3, 5], "thei": [1, 3, 4, 5, 6], "themselv": 1, "alwai": [1, 6], "system": [1, 2, 5, 12], "run": [1, 2, 3, 5, 12], "reflect": 1, "scheme": 1, "nvidia": 1, "multiprocessor": 1, "sm": 1, "64": [1, 6], "precis": 1, "32": 1, "tensor": 1, "128": 1, "kb": 1, "l1": 1, "96": 1, "set": [1, 5, 6, 12], "user": [1, 5, 6], "rest": 1, "65536": 1, "regist": [1, 5], "enabl": [1, 5], "veri": [1, 5], "mix": [1, 5], "act": 1, "workflow": 1, "make": [1, 2, 4, 5, 6, 7, 8, 9, 10, 12], "handl": [1, 6], "transfer": [1, 3, 12], "simultan": [1, 5], "doe": [1, 5, 6], "kernel": [1, 4], "written": [1, 4], "specif": [1, 5, 6], "take": [1, 2, 6, 12], "advantag": [1, 5], "asynchron": 1, "after": [1, 5], "sequenti": [1, 5, 12], "order": [1, 5, 12], "individu": [1, 3], "independ": [1, 5], "other": [1, 3, 4, 6, 7, 8, 9, 10, 12], "given": [1, 3, 6], "same": [1, 5, 6, 12], "ingl": 1, "m": [1, 6], "ultipl": 1, "d": [1, 5, 12], "ata": 1, "These": 1, "group": [1, 5, 12], "assgin": 1, "split": [1, 5], "among": [1, 2, 5, 12], "sever": 1, "activ": 1, "moment": 1, "interact": [1, 3], "exchang": [1, 5], "via": [1, 5, 6], "synchron": [1, 12], "With": [1, 3], "littl": 1, "quickli": 1, "pattern": 1, "essenti": 1, "like": [1, 4, 5, 6, 7, 8, 9, 10], "overload": 1, "becaus": [1, 6, 12], "switch": [1, 2], "allow": [1, 5], "some": [1, 5, 6], "wait": [1, 5], "impli": [1, 5], "abl": [1, 3, 12], "import": [1, 2], "concept": [1, 3], "warp": 1, "wave": 1, "struction": 1, "t": [1, 6], "hread": 1, "an": [1, 3, 6, 12], "statement": [1, 5, 12], "present": 1, "work": [1, 3, 6, 7, 8, 9, 10], "practic": [1, 3, 5, 6], "manner": [1, 3, 5], "anoth": [1, 5, 12], "detail": 1, "done": [1, 5, 6], "locat": [1, 6], "adjac": [1, 6], "__global__": 1, "vecadd": 1, "a_d": 1, "b_d": 1, "c_d": 1, "blockidx": 1, "blockdim": 1, "threadidx": 1, "critical": 1, "effici": [1, 12], "rule": 1, "cannot": [1, 3, 5], "store": [1, 5], "frequent": 1, "privat": [1, 5, 12], "cost": [1, 5], "less": 1, "requir": [1, 5], "There": [1, 5, 6], "maximum": [1, 12], "exce": 1, "spill": 1, "inter": [1, 5], "commun": [1, 5], "addit": [1, 3, 5, 6, 12], "costant": 1, "textur": 1, "surfac": 1, "also": [1, 4, 5, 6, 7, 8, 9, 10], "openmp": [1, 4, 6], "expos": [1, 5], "level": [1, 12], "techniqu": [1, 6], "let": [1, 6, 12], "rel": [1, 5], "simpl": [1, 3, 5], "capabl": 1, "mostli": 1, "relat": 1, "appreci": 1, "introduc": [1, 2, 3, 6], "now": [1, 6, 12], "relev": 1, "transact": 1, "continu": [1, 6], "32b": 1, "64b": 1, "128b": 1, "must": [1, 3, 6, 12], "natur": 1, "align": [1, 5], "byte": 1, "segment": 1, "e": [1, 12], "whose": [1, 6], "first": [1, 5, 6], "address": [1, 4, 5, 12], "read": [1, 3, 5, 6], "Not": 1, "fulfil": 1, "result": [1, 5], "extra": [1, 5], "onc": [1, 2, 5, 12], "place": [1, 5], "local": [1, 5, 6], "divid": [1, 5, 6], "equal": [1, 5, 6], "bank": 1, "cycl": 1, "request": 1, "fall": 1, "conflict": 1, "case": [1, 2, 5], "free": [1, 3], "broadcast": 1, "occur": [1, 5], "maang": 1, "see": [1, 6], "coeher": 1, "underli": [1, 5], "without": [1, 5, 12], "explicit": [1, 6], "appear": 1, "transpar": 1, "migrat": 1, "support": [1, 5, 6, 12], "featur": [1, 5], "runtim": 1, "mai": [1, 3, 12], "issu": 1, "guarante": [1, 12], "prescrib": 1, "interleav": 1, "even": [1, 3], "concurr": [1, 5, 12], "null": 1, "respect": 1, "begin": [1, 5], "previous": 1, "complet": [1, 5], "simplest": 1, "consid": 1, "spent": 1, "linear": 1, "independednt": 1, "total": [1, 6, 12], "decreas": [1, 5], "scenario": 1, "below": [1, 5, 6], "4": [1, 3, 6, 12], "ovelap": 1, "wai": [1, 3, 5, 6], "difficult": 1, "framework": 1, "kokko": 1, "amrex": 1, "autom": 1, "openacc": 1, "annot": 1, "pinpoint": 1, "region": [1, 4, 6, 12], "nativ": 1, "opencl": 1, "sycl": 1, "certain": 1, "problem": [1, 5, 6], "sure": [2, 4, 7, 8, 9, 10], "instal": 2, "correctli": [2, 6], "exampl": [2, 3, 4, 5, 6, 7, 8, 9, 10, 12], "beforehand": 2, "least": 2, "Be": 2, "awar": [2, 3], "skip": 2, "give": [2, 3], "enough": 2, "exercis": 2, "open": 2, "too": 2, "tab": 2, "emphas": 2, "certrain": 2, "briefli": 2, "short": 2, "summari": [2, 3], "afterward": 2, "home": 2, "messag": [2, 5], "intend": 3, "newcom": 3, "By": [3, 5], "student": [3, 4, 7, 8, 9, 10], "feel": 3, "comfort": 3, "construct": [3, 5], "code": [3, 5, 12], "reason": [3, 4, 7, 8, 9, 10], "chang": [3, 6], "know": 3, "data": [3, 12], "lifetim": 3, "reduct": [3, 12], "mini": 3, "app": 3, "observ": 3, "behavior": 3, "librari": [3, 6], "mpi": [3, 5], "either": [3, 5, 6], "termin": [3, 4, 5, 6, 7, 8, 9, 10], "command": [3, 4, 6, 7, 8, 9, 10], "line": [3, 4, 6, 7, 8, 9, 10], "For": [3, 5, 6, 12], "familiar": 3, "20": [3, 6], "min": 3, "why": [3, 9], "40": 3, "introduct": 3, "architectur": 3, "60": 3, "profil": 3, "environ": [3, 12], "alongsid": 3, "port": [3, 6], "optim": [3, 6], "quick": 3, "instructor": 3, "": [3, 4, 6, 7, 8, 9, 10, 12], "guid": [3, 5], "prepar": 3, "teach": 3, "peopl": 3, "seek": [3, 6], "improv": 3, "offer": 3, "jointli": 3, "http": 3, "se": 3, "www": 3, "fi": 3, "github": 3, "com": 3, "uob": 3, "hpc": 3, "tutori": 3, "file": [3, 6, 12], "brows": 3, "layout": 3, "inspir": 3, "deriv": 3, "coderefineri": 3, "licens": [3, 6], "mit": 3, "adapt": 3, "text": [3, 4, 7, 8, 9, 10], "made": [3, 5, 6], "creativ": 3, "attribut": [3, 4], "cc": 3, "BY": 3, "human": 3, "readabl": 3, "substitut": 3, "full": 3, "legal": 3, "share": [3, 12], "redistribut": 3, "medium": 3, "format": 3, "remix": 3, "transform": 3, "build": [3, 5], "upon": 3, "commerci": 3, "licensor": 3, "revok": 3, "mention": 3, "your": [3, 4], "thor": 3, "wikfeldt": 3, "contributor": 3, "link": 3, "indic": [3, 5, 6], "suggest": 3, "endors": 3, "No": [3, 5, 12], "restrict": 3, "appli": [3, 6], "technolog": 3, "measur": 3, "anyth": 3, "permit": 3, "compli": 3, "public": 3, "domain": [3, 6], "except": [3, 5], "warranti": 3, "permiss": [3, 6], "necessari": [3, 5], "right": [3, 6], "privaci": 3, "moral": 3, "otherwis": [3, 5, 12], "repositori": 3, "osi": 3, "approv": 3, "my": [4, 5, 9, 10], "should": [4, 5, 6, 9], "togeth": [4, 5], "map": [4, 12], "cuda": 4, "hip": 4, "todo": [4, 7, 8, 9, 10], "interoper": 4, "pass": [4, 5], "launch": 4, "is_device_ptr": [4, 12], "access": [4, 5, 12], "directli": 4, "target": [4, 5, 6], "sampl": [4, 7, 8, 9, 10], "think": [4, 6, 7, 8, 9, 10], "answer": [4, 7, 8, 9, 10], "zoom": [4, 7, 8, 9, 10], "quiz": [4, 7, 8, 9, 10], "look": [4, 6, 7, 8, 9, 10], "webpag": [4, 7, 8, 9, 10], "option": [4, 5, 7, 8, 9, 10], "pull": [4, 7, 8, 9, 10], "highlight": [4, 7, 8, 9, 10], "ghost": [4, 6, 7, 8, 9, 10], "layer": [4, 6, 7, 8, 9, 10], "grid": [4, 6, 7, 8, 9, 10], "cell": [4, 6, 7, 8, 9, 10], "std": [4, 6, 7, 8, 9, 10], "ldimens": [4, 6, 7, 8, 9, 10], "allocat": [4, 6, 7, 8, 9, 10], "discuss": [4, 7, 8, 9, 10], "show": [4, 6, 7, 8, 9, 10], "someth": [4, 6, 7, 8, 9, 10], "nvc": [4, 6, 7, 8, 9, 10], "g": [4, 6, 7, 8, 9, 10, 12], "o3": [4, 6, 7, 8, 9, 10], "fopenmp": [4, 5, 6, 7, 8, 9, 10], "wall": [4, 6, 7, 8, 9, 10], "o": [4, 6, 7, 8, 9, 10], "pngwriter": [4, 6, 7, 8, 9, 10], "heat_seri": [4, 6, 7, 8, 9, 10, 12], "lpng": [4, 6, 7, 8, 9, 10], "To": [4, 6, 7, 8, 9, 10, 12], "approach": [4, 5, 7, 8, 9, 10], "800": [4, 6, 7, 8, 9, 10, 12], "1000": [4, 5, 6, 7, 8, 9, 10], "summar": [4, 5, 7, 8, 9, 10], "learn": [4, 6, 7, 8, 9, 10], "outcom": [4, 7, 8, 9, 10], "idea": 5, "subtask": 5, "solv": [5, 6], "fulli": 5, "paradigm": 5, "trivial": 5, "paralleliz": 5, "inform": 5, "hardwar": 5, "It": [5, 12], "own": [5, 12], "network": 5, "machin": 5, "modifi": 5, "emploi": 5, "light": [5, 6], "destroi": [5, 12], "small": [5, 12], "adress": 5, "though": 5, "disadvantag": 5, "cheap": 5, "infinit": 5, "capac": 5, "principl": 5, "consum": 5, "achiv": 5, "quit": [5, 6], "speed": 5, "easier": 5, "race": 5, "de": 5, "facto": 5, "standard": 5, "easi": 5, "implement": [5, 6, 12], "whole": 5, "technologi": 5, "suit": [5, 6], "hint": 5, "choos": [5, 6], "best": 5, "comment": 5, "just": 5, "api": 5, "fork": 5, "join": 5, "master": [5, 12], "everyth": 5, "encount": 5, "assign": 5, "index": [5, 6], "implicit": [5, 6, 12], "barrier": [5, 12], "relax": 5, "global": 5, "retriev": 5, "temporari": 5, "view": 5, "repres": 5, "interven": 5, "go": 5, "necesserali": 5, "threadpriv": 5, "insid": 5, "referenc": 5, "new": 5, "version": [5, 6, 12], "nest": 5, "inner": 5, "identifi": [5, 12], "uniqu": 5, "sentinel": 5, "ingnor": 5, "prototyp": 5, "creation": 5, "workload": 5, "carri": 5, "enclos": 5, "outsid": [5, 6], "threa": 5, "yet": 5, "hello": 5, "world": 5, "omp_rank": 5, "print": [5, 12], "up": [5, 6], "divis": 5, "id": 5, "rank": 5, "consecut": 5, "dynam": 5, "irregular": 5, "algorithm": 5, "recurs": 5, "workshar": [5, 12], "executi": 5, "999": 5, "enddo": 5, "behaviour": 5, "imediatli": 5, "want": 5, "visibl": 5, "append": 5, "declar": [5, 12], "counter": 5, "maintain": 5, "scope": 5, "forc": 5, "lastpriv": [5, 12], "updat": [5, 6, 12], "safe": 5, "bellow": 5, "y": [5, 6], "asum": 5, "critic": 5, "often": [5, 6], "protect": 5, "atom": 5, "entir": 5, "might": 5, "better": 5, "would": 5, "reach": [5, 12], "proce": 5, "finish": [5, 12], "absenc": 5, "chunk": 5, "accord": [5, 6], "method": [5, 6], "static": 5, "particular": [5, 6], "left": [5, 6], "abov": 5, "exponenti": 5, "success": 5, "minimum": 5, "caus": 5, "met": 5, "name": [5, 12], "associ": [5, 12], "preserv": 5, "intrins": 5, "prior": 5, "lead": 5, "increment": 5, "numer": [5, 6], "differenti": 5, "flush": 5, "restor": 5, "off": 5, "member": 5, "collaps": [5, 12], "sppecifi": 5, "extens": 5, "detect": 5, "context": 5, "unset": 5, "lock": 5, "definit": 5, "header": 5, "omp_get_num_thread": [5, 12], "omp_get_thread_num": 5, "portabl": [5, 12], "mantain": 5, "ifdef": [5, 12], "_openmp": [5, 12], "bind": 5, "csh": 5, "tcsh": 5, "setenv": 5, "omp_num_thread": 5, "sh": 5, "bash": 5, "export": 5, "omp_proc_bind": 5, "omp_plac": 5, "omp_display_env": 5, "info": 5, "stderr": 5, "gnu": 5, "qopenmp": 5, "crai": 5, "pgi": 5, "mp": 5, "nonuma": 5, "allcor": 5, "treat": 5, "librai": 5, "alter": 5, "gpu": 6, "what": [6, 8, 10], "model": 6, "influenc": 6, "durat": 6, "expect": 6, "equilibrium": 6, "Such": 6, "discret": 6, "regular": 6, "involv": 6, "lot": 6, "effort": 6, "fortun": 6, "varieti": 6, "That": 6, "finland": 6, "grant": 6, "rate": 6, "u": 6, "alpha": 6, "frac": 6, "nabla": 6, "laplacian": 6, "describ": 6, "vari": 6, "those": 6, "finit": 6, "analyt": 6, "tempor": 6, "2u": 6, "delta": 6, "four": 6, "8x8": 6, "blue": 6, "yellow": 6, "arithmet": 6, "pre": 6, "denomin": 6, "12800": 6, "assum": 6, "unrealist": 6, "happen": 6, "edg": 6, "valid": 6, "One": [6, 12], "altern": 6, "ignor": 6, "contribut": 6, "tend": 6, "sens": 6, "period": 6, "ring": 6, "although": 6, "neighbor": 6, "outer": 6, "red": 6, "site": 6, "straightforward": 6, "ll": 6, "Then": 6, "input": 6, "produc": 6, "nice": 6, "won": 6, "touch": 6, "spend": 6, "seen": 6, "record": 6, "taken": 6, "later": 6, "our": 6, "initialis": 6, "allocate_field": 6, "newsiz": 6, "resiz": 6, "halo": 6, "field0": 6, "directori": 6, "cd": 6, "twice": 6, "762281": 6, "426": 6, "58": 6, "065097": 6, "report": 6, "whether": 6, "attempt": 6, "faster": [6, 8], "correct": 6, "pde": 6, "automat": 6, "disk": 6, "cold": 6, "center": 6, "warm": 6, "65": 6, "shown": 6, "side": 6, "70": 6, "85": 6, "earli": 6, "surround": 6, "domin": 6, "greater": 6, "converg": 6, "eventu": 6, "ie": 6, "45": 6, "progress": 6, "larger": 6, "triangl": 6, "perhap": 6, "bug": 6, "resolv": 6, "distort": 6, "easili": 6, "tool": [8, 10], "me": 10, "heterogen": 12, "henc": 12, "well": 12, "forbidden": 12, "normal": 12, "coprocessor": 12, "fpga": 12, "unless": 12, "unifi": 12, "NO": 12, "alreadi": 12, "centric": 12, "defaultmap": 12, "endif": 12, "num_devic": 12, "omp_get_num_devic": 12, "omp_is_initial_devic": 12, "els": 12, "nteam": 12, "omp_get_num_team": 12, "nthread": 12, "thread": 12, "initial_devic": 12, "i4": 12, "num_team": 12, "thread_limit": 12, "leagu": 12, "particip": 12, "descend": 12, "never": 12, "dist_schedul": 12, "chunk_siz": 12, "coars": 12, "further": 12, "distritut": 12, "num_thread": 12, "copyin": 12, "schedul": 12, "grain": 12, "spawn": 12, "fine": 12, "compar": 12, "furthermor": 12, "tile": 12, "focu": 12}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"data": [0, 1, 4, 5, 6, 7, 8, 9, 10], "environ": [0, 5], "object": [0, 1, 4, 5, 6, 7, 8, 9, 10, 12], "map": 0, "exercise04": 0, "explicit": 0, "implicit": 0, "solut": [0, 4, 6, 7, 8, 9, 10, 12], "region": [0, 5], "structur": [0, 4, 6, 7, 8, 9, 10], "syntax": [0, 12], "unstructur": 0, "keypoint": [0, 1, 4, 5, 6, 7, 8, 9, 10, 12], "target": [0, 12], "updat": 0, "construct": [0, 12], "exercise05": 0, "exercise06": 0, "optim": [0, 8], "transfer": 0, "exercis": [0, 4, 6, 7, 8, 9, 10, 12], "movement": [0, 1], "introduct": 1, "gpu": [1, 3, 4, 7, 10, 12], "architectur": [1, 5], "question": [1, 4, 5, 6, 7, 8, 9, 10], "prerequisit": [1, 3, 4, 5, 6, 7, 8, 9, 10], "moor": 1, "": [1, 2], "law": 1, "why": [1, 5], "us": 1, "what": 1, "i": [1, 3], "differ": 1, "program": [1, 5], "model": [1, 5, 12], "acceler": 1, "autopsi": 1, "volta": 1, "heterogen": 1, "thread": [1, 5], "hierarchi": 1, "automat": 1, "scalabl": 1, "schedul": [1, 5], "simt": 1, "cuda": 1, "c": 1, "hip": 1, "code": [1, 4, 6, 7, 8, 9, 10], "exampl": 1, "memori": [1, 5], "type": 1, "advanc": 1, "topic": 1, "global": 1, "access": 1, "share": [1, 5], "unifi": 1, "stream": 1, "overlap": 1, "comput": [1, 5], "write": 1, "summari": 1, "instructor": 2, "guid": 2, "prepar": 2, "teach": 2, "openmp": [3, 5, 8, 9, 12], "offload": [3, 5, 8, 9, 12], "The": [3, 4, 6, 7, 8, 9, 10], "lesson": 3, "refer": [3, 11], "who": 3, "cours": 3, "about": 3, "see": 3, "also": 3, "credit": 3, "instruct": 3, "materi": 3, "softwar": 3, "work": [4, 5], "alongsid": 4, "librari": [4, 5], "first": [4, 7, 8, 9, 10], "head": [4, 7, 8, 9, 10], "second": [4, 7, 8, 9, 10], "some": [4, 7, 8, 9, 10], "sourc": [4, 6, 7, 8, 9, 10], "field": [4, 6, 7, 8, 9, 10], "build": [4, 6, 7, 8, 9, 10], "run": [4, 6, 7, 8, 9, 10], "parallel": [5, 12], "distribut": [5, 12], "v": [5, 12], "process": 5, "execut": [5, 12], "direct": [5, 12], "claus": 5, "attribut": 5, "synchron": 5, "IF": 5, "control": 5, "initi": [5, 6], "reduct": 5, "other": 5, "runtim": 5, "routin": [5, 6], "variabl": 5, "compil": 5, "an": 5, "heat": 6, "diffus": 6, "mini": 6, "app": 6, "partial": 6, "differenti": 6, "equat": 6, "spatial": 6, "boundari": 6, "condit": 6, "core": 6, "evolut": 6, "oper": 6, "main": 6, "driver": 6, "function": 6, "setup": 6, "visual": 6, "output": 6, "multipl": 7, "port": 9, "profil": 10, "quick": 11, "host": 12, "devic": 12, "exercise00": 12, "hello": 12, "world": 12, "exercise01": 12, "ad": 12, "creat": 12, "team": 12, "FOR": 12, "do": 12, "exercise02": 12, "exercise03": 12, "composit": 12}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.todo": 2, "sphinx": 57}, "alltitles": {"Data environment": [[0, "data-environment"]], "Objectives": [[0, "objectives-0"], [1, "objectives-0"], [4, "objectives-0"], [5, "objectives-0"], [6, "objectives-0"], [7, "objectives-0"], [8, "objectives-0"], [9, "objectives-0"], [10, "objectives-0"], [12, "objectives-0"]], "Data mapping": [[0, "data-mapping"]], "Exercise04: explicit and implicit data mapping": [[0, "exercise-0"]], "Solution": [[0, "solution-0"], [0, "solution-1"], [0, "solution-2"], [4, "solution-0"], [6, "solution-0"], [6, "solution-1"], [6, "solution-2"], [6, "solution-3"], [7, "solution-0"], [8, "solution-0"], [9, "solution-0"], [10, "solution-0"], [12, "solution-0"], [12, "solution-1"], [12, "solution-2"], [12, "solution-3"]], "Data region": [[0, "data-region"]], "Structured Data Regions": [[0, "structured-data-regions"]], "Syntax": [[0, "exercise-1"], [0, "exercise-2"], [0, "exercise-3"], [12, "exercise-0"], [12, "exercise-3"], [12, "exercise-4"], [12, "exercise-5"], [12, "exercise-6"], [12, "exercise-9"]], "Unstructured Data Regions": [[0, "unstructured-data-regions"]], "Keypoints": [[0, "keypoints-0"], [1, "keypoints-0"], [4, "keypoints-0"], [5, "keypoints-0"], [6, "keypoints-0"], [7, "keypoints-0"], [8, "keypoints-0"], [9, "keypoints-0"], [10, "keypoints-0"], [12, "keypoints-0"]], "TARGET UPDATE construct": [[0, "target-update-construct"]], "Exercise05: TARGET DATA structured region": [[0, "exercise-4"]], "Exercise06:  TARGET UPDATE": [[0, "exercise-5"]], "Optimize Data Transfers": [[0, "optimize-data-transfers"]], "Exercise: Data Movement": [[0, "exercise-6"]], "Introduction to GPU architecture": [[1, "introduction-to-gpu-architecture"]], "Questions": [[1, "questions-0"], [4, "questions-0"], [5, "questions-0"], [6, "questions-0"], [7, "questions-0"], [8, "questions-0"], [9, "questions-0"], [10, "questions-0"]], "Prerequisites": [[1, "prerequisites-0"], [3, "prerequisites-0"], [4, "prerequisites-0"], [5, "prerequisites-0"], [6, "prerequisites-0"], [7, "prerequisites-0"], [8, "prerequisites-0"], [9, "prerequisites-0"], [10, "prerequisites-0"]], "Moore\u2019s law": [[1, "moore-s-law"]], "Why use GPUs?": [[1, "why-use-gpus"]], "What is different?": [[1, "what-is-different"]], "GPU Programming Model": [[1, "gpu-programming-model"]], "Accelerator model": [[1, "accelerator-model"]], "GPU Autopsy. Volta GPU": [[1, "gpu-autopsy-volta-gpu"]], "Heterogeneous Programming": [[1, "heterogeneous-programming"]], "Thread Hierarchy": [[1, "thread-hierarchy"]], "Automatic Scalability": [[1, "automatic-scalability"]], "Thread Scheduling. SIMT": [[1, "thread-scheduling-simt"]], "CUDA C/HIP code example": [[1, "cuda-c-hip-code-example"]], "Memory types": [[1, "memory-types"]], "Advanced topics": [[1, "advanced-topics"]], "Global Memory Access": [[1, "global-memory-access"]], "Shared Memory Access": [[1, "shared-memory-access"]], "Unified Memory Access": [[1, "unified-memory-access"]], "Streams": [[1, "streams"]], "Overlapping Computations and Data Movements": [[1, "overlapping-computations-and-data-movements"]], "Writing Programs for GPUs": [[1, "writing-programs-for-gpus"]], "Summary": [[1, "summary"]], "Instructor\u2019s guide": [[2, "instructor-s-guide"]], "Preparing to Teach": [[2, "preparing-to-teach"]], "OpenMP for GPU offloading": [[3, "openmp-for-gpu-offloading"]], "The lessons": [[3, null]], "Reference": [[3, null]], "Who is the course for?": [[3, "who-is-the-course-for"]], "About the course": [[3, "about-the-course"]], "See also": [[3, "see-also"]], "Credits": [[3, "credits"]], "Instructional Material": [[3, "instructional-material"]], "Software": [[3, "software"]], "Working alongside GPU libraries": [[4, "working-alongside-gpu-libraries"]], "First heading": [[4, "first-heading"], [7, "first-heading"], [8, "first-heading"], [9, "first-heading"], [10, "first-heading"]], "Second heading": [[4, "second-heading"], [7, "second-heading"], [8, "second-heading"], [9, "second-heading"], [10, "second-heading"]], "Exercise": [[4, "exercise-0"], [6, "exercise-0"], [6, "exercise-1"], [6, "exercise-2"], [6, "exercise-3"], [7, "exercise-0"], [8, "exercise-0"], [9, "exercise-0"], [10, "exercise-0"]], "Some source code": [[4, "some-source-code"], [7, "some-source-code"], [8, "some-source-code"], [9, "some-source-code"], [10, "some-source-code"]], "The field data structure": [[4, "typealong-0"], [6, "typealong-0"], [7, "typealong-0"], [8, "typealong-0"], [9, "typealong-0"], [10, "typealong-0"]], "Building the code": [[4, "building-the-code"], [6, "building-the-code"], [6, "typealong-4"], [7, "building-the-code"], [8, "building-the-code"], [9, "building-the-code"], [10, "building-the-code"]], "Running the code": [[4, "running-the-code"], [6, "running-the-code"], [7, "running-the-code"], [8, "running-the-code"], [9, "running-the-code"], [10, "running-the-code"]], "Why OpenMP offloading?": [[5, "why-openmp-offloading"]], "Computing in parallel": [[5, "computing-in-parallel"]], "Distributed- vs. Shared-Memory Architecture": [[5, "distributed-vs-shared-memory-architecture"]], "Processes and threads": [[5, "processes-and-threads"]], "OpenMP": [[5, "openmp"]], "Execution model": [[5, "execution-model"]], "OpenMP Memory Model": [[5, "openmp-memory-model"]], "OpenMP Directives": [[5, "openmp-directives"]], "Parallel regions": [[5, "parallel-regions"]], "Work sharing": [[5, "work-sharing"]], "Clauses": [[5, "clauses"]], "Data sharing attribute clauses": [[5, "data-sharing-attribute-clauses"]], "Synchronization clauses": [[5, "synchronization-clauses"]], "Scheduling clauses": [[5, "scheduling-clauses"]], "IF control": [[5, "if-control"]], "Initialization": [[5, "initialization"]], "Reduction": [[5, "reduction"]], "Others": [[5, "others"]], "Runtime library routines": [[5, "runtime-library-routines"]], "OpenMP environment variables": [[5, "openmp-environment-variables"]], "Compiling an OpenMP program": [[5, "compiling-an-openmp-program"]], "Heat diffusion mini-app": [[6, "heat-diffusion-mini-app"]], "Heat diffusion": [[6, "heat-diffusion"]], "The partial differential equation": [[6, "the-partial-differential-equation"]], "Spatial boundary conditions": [[6, "spatial-boundary-conditions"]], "The source code": [[6, "the-source-code"]], "The core evolution operation": [[6, "typealong-1"]], "The main driver function": [[6, "typealong-2"]], "The setup routines": [[6, "typealong-3"]], "Initial and boundary conditions": [[6, "initial-and-boundary-conditions"]], "Visualizing the output": [[6, "visualizing-the-output"]], "Multiple GPUs": [[7, "multiple-gpus"]], "Optimizing OpenMP offloaded code": [[8, "optimizing-openmp-offloaded-code"]], "Porting code to OpenMP offloading": [[9, "porting-code-to-openmp-offloading"]], "Profiling code for GPUs": [[10, "profiling-code-for-gpus"]], "Quick Reference": [[11, "quick-reference"]], "Offloading to GPU": [[12, "offloading-to-gpu"]], "Host-device model": [[12, "host-device-model"]], "Device execution model": [[12, "device-execution-model"]], "TARGET construct": [[12, "target-construct"]], "Exercise00: Hello world with OpenMP offloading": [[12, "exercise-1"]], "Exercise01: Adding TARGET construct": [[12, "exercise-2"]], "Creating parallelism on the target device": [[12, "creating-parallelism-on-the-target-device"]], "TEAMS construct": [[12, "teams-construct"]], "DISTRIBUTE construct": [[12, "distribute-construct"]], "PARALLEL construct": [[12, "parallel-construct"]], "FOR/DO construct": [[12, "for-do-construct"]], "Exercise02: Adding constructs for parallelism": [[12, "exercise-7"]], "Exercise03: TEAMS vs  PARALLEL constructs": [[12, "exercise-8"]], "Composite directive": [[12, "composite-directive"]], "Exercise: Offloading": [[12, "exercise-10"]]}, "indexentries": {}})